inertia:
  m: 225           # [kg] vehicle mass
  g: 9.81          # [m/s^2]
  I_z: 31.27       # [kg m^2] keep if from ADS-DV docs/CAD

  # Linear cornering stiffness (not used by current non-linear tire code, safe placeholders)
  Cf: 898.1        # N/rad (legacy / for other models)
  Cr: 1097.6       # N/rad

kinematics:
  l: 1.58          # [m] wheelbase
  b_F: 0.869       # [m] CG -> front axle
  b_R: 0.711       # [m] CG -> rear axle
  w_front: 0.45    # [-] static front weight fraction (consistent with b_F,b_R)
  axle_width: 1.4  # [m] track width

tire:
  # Target effective mu_dry ≈ 1.1
  tire_coefficient: 1.1

  # Remember: loader does B_eff = B/coef, D_eff = D*coef
  # We want B_eff ≈ 9.0, D_eff ≈ 1.0 for a realistic FS-scale lateral stiffness.
  B: 9.9           # -> B_eff ≈ 9.9 / 1.1 ≈ 9.0
  C: 1.3
  D: 0.909         # -> D_eff ≈ 0.909 * 1.1 ≈ 1.0
  E: -1.6
  radius: 0.2525   # [m] wheel radius

aero:
  # More conservative, still gives useful high-speed behaviour
  C_Down: 0.5      # F_down = 0.5 * v^2  -> ~450 N at 30 m/s (~0.2 g extra)
  C_drag: 0.7      # F_drag = 0.7 * v^2 -> ~630 N at 30 m/s

powertrain:
  motor_count: 2
  front_motor_count: 1
  rear_motor_count: 1
  enable_regen: true

  final_drive_ratio: 3.5
  gear_efficiency: 0.95
  drive_efficiency: 0.92
  regen_efficiency: 0.70

  max_power_kw: 17.0        # total system cap
  max_regen_kw: 17.0

  # These splits are largely ignored once front/rear motor counts are set,
  # but we keep them sensible.
  torque_split_front: 1.0
  torque_split_rear: 1.0

  torque_front_max_nm: 195.0
  torque_rear_max_nm: 195.0

  drive_curve:
    rpm:    [0,    1000, 3000, 4000, 4500]
    torque: [55.7, 55.7, 55.7, 40.6, 0.0]    # per motor

  regen_curve:
    rpm:    [0,    1000, 3000, 4000, 4500]
    torque: [27.2, 27.2, 27.2, 20.0, 0.0]    # per motor

  battery:
    capacity_kwh: 5.1
    soc_init: 0.9
    soc_min: 0.1
    soc_max: 0.95
    soc_torque_fade_start: 0.2
    soc_regen_fade_start: 0.9
    nominal_voltage: 51.2

brakes:
  front_bias: 0.58
  rear_bias: 0.42
  max_force: 8000.0        # actuator ceiling; friction circle will cap physically
  regen_fraction: 0.6
  min_regen_speed: 1.0

input_ranges:
  acceleration:
    max: 1.0
    min: -1.0
  velocity:
    max: 30.1964649875      # ~108.7 km/h
    min: 0.0
  steering:
    max: 0.3665191          # ~21 deg
    min: -0.3665191

physics:
  h_cg: 0.25                # [m]
  c_rr: 0.012               # rolling resistance
  tau_throttle: 0.06        # [s]
  tau_brake: 0.03           # [s]
